"use strict";d3.playbooks.superbugsMap=function(e){var t=e.id,o=e.title,n=e.description,a=e.annotation,r=e.eudata,l=e.dataUrl,p=e.yExtent,s=e.legendFormat,i=void 0===s?".0f":s,u=d3.playbooks.choroplethMap({width:800,height:800,elementId:"superbugs-map--"+t,cssNamespace:"superbugs-map",geoDataUrl:"./data/europe.topo.json",dataUrl:l,yExtent:p,nullColor:"#eee",responsiveSvg:!0,isTopojson:!0,topojsonLayerName:"europe_clipped",getId:function(e){return e.properties.iso_a2}}),d=r?'<p class="infobox__eudata">EU: '+r+"</p>":"";u.render().infobox({element:"#superbugs-map__infobox--"+t,template:'\n      <h3>{name}</h3>\n      <p class="infobox__data">{display_value}</p>\n      <h4>'+o+'</h4>\n      <p class="infobox__subtitle">'+n+"</p>\n      "+d+'\n      <p class="infobox__annotation">'+a+"</p>\n    "}).selector({element:"#superbugs-map__selector--"+t,getLabel:function(e){return e.name}}).legend({getLabel:function(e){return d3.format(i)(e)},element:"#superbugs-map__legend--"+t,wrapperTemplate:'<ul name="legend">{body}</ul>',itemTemplate:'<li style="background-color:{color}">{label} %</li>'}),u.ready().then(function(){var e=u.data().filter(function(e){return"DE"===e.iso_a2})[0];u.hilight(e),u.control().trigger("update_infobox",e),u.control().trigger("update_selector",e)})};
