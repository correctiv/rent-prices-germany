"use strict";d3.playbooks.superbugsMap=function(e){var t=e.id,o=e.title,a=e.description,n=e.annotation,r=e.eudata,l=e.dataUrl,p=e.geoDataUrl,s=e.yExtent,i=e.legendFormat,u=void 0===i?".0f":i,d=d3.playbooks.choroplethMap({width:800,height:800,elementId:"superbugs-map--"+t,cssNamespace:"superbugs-map",geoDataUrl:p,dataUrl:l,yExtent:s,nullColor:"#eee",responsiveSvg:!0,isTopojson:!0,topojsonLayerName:"europe_clipped",getId:function(e){return e.properties.iso_a2}}),c=r?'<p class="infobox__eudata">EU: '+r+"</p>":"";d.render().infobox({element:"#superbugs-map__infobox--"+t,template:'\n      <h3>{name}</h3>\n      <p class="infobox__data">{display_value}</p>\n      <h4>'+o+'</h4>\n      <p class="infobox__subtitle">'+a+"</p>\n      "+c+'\n      <p class="infobox__annotation">'+n+"</p>\n    "}).selector({element:"#superbugs-map__selector--"+t,getLabel:function(e){return e.name}}).legend({getLabel:function(e){return d3.format(u)(e)},element:"#superbugs-map__legend--"+t,wrapperTemplate:'<ul name="legend">{body}</ul>',itemTemplate:'<li style="background-color:{color}">{label} %</li>'}),d.ready().then(function(){var e=d.data().filter(function(e){return"DE"===e.iso_a2})[0];d.hilight(e),d.control().trigger("update_infobox",e),d.control().trigger("update_selector",e)})};
