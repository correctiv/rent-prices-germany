"use strict";var _slicedToArray=function(){function e(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();d3.playbooks.superbugsMap=function(e){var t=e.id,r=e.title,a=e.description,n=e.annotation,o=e.eudata,l=e.dataUrl,i=e.geoDataUrl,s=e.yExtent,u=e.legendFormat,p=e.legendUnit,d=d3.playbooks.choroplethMap({width:800,height:800,elementId:"superbugs-map--"+t,cssNamespace:"superbugs-map",geoDataUrl:i,dataUrl:l,yExtent:s,color:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],nullColor:"#eee",responsiveSvg:!0,isTopojson:!0,topojsonLayerName:"europe_clipped",getId:function(e){return e.properties.iso_a2},drawExtra:function(e){var t=e.data.find(function(e){return"CY"===e.iso_a2}),r=e.path.bounds(t),a=_slicedToArray(r,2),n=_slicedToArray(a[0],2),o=n[0],l=n[1],i=_slicedToArray(a[1],2),s=i[0],u=i[1];e.g.append("text").attr("x",o-10).attr("y",l-20).text(t.name).style("font-size",10).style("fill","gray"),e.g.append("rect").attr("x",o-10).attr("y",l-15).attr("width",s-o+20).attr("height",u-l+20).style("fill","none").style("stroke","gray").style("stroke-width",.5)}}),c=o?'<p class="infobox__eudata">EU: '+o+"</p>":"";d.render().infobox({element:"#superbugs-map__infobox--"+t,template:"\n      <h3>{display_value}</h3>\n      <h4>"+r+'</h4>\n      <p class="infobox__description">'+a+"</p>\n      "+c+'\n      <p class="infobox__annotation">'+n+"</p>\n    "}).selector({element:"#superbugs-map__selector--"+t,getLabel:function(e){return e.name}}).legend({getLabel:function(e){return d3.format(u)(e)},element:"#superbugs-map__legend--"+t,wrapperTemplate:'<ul name="legend">{body}</ul>',itemTemplate:'<li style="background-color:{color}">{label} '+p+"</li>"}),d.ready().then(function(){var e=d.data().filter(function(e){return"DE"===e.iso_a2})[0];d.hilight(e),d.control().trigger("update_infobox",e),d.control().trigger("update_selector",e)})};
