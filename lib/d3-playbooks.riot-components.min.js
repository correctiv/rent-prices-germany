!function(e){function t(o){if(n[o])return n[o].exports;var l=n[o]={exports:{},id:o,loaded:!1};return e[o].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(9)},function(e,t){e.exports=riot},function(e,t){function n(e){var t;if(2===arguments.length&&"object"==typeof arguments[1])t=arguments[1];else{t=new Array(arguments.length-1);for(var n=1;n<arguments.length;++n)t[n-1]=arguments[n]}return t&&t.hasOwnProperty||(t={}),e.replace(o,function(n,o,l){var r;return"{"===e[l-1]&&"}"===e[l+n.length]?o:(r=t.hasOwnProperty(o)?t[o]:null,null===r||void 0===r?"":r)})}var o=/\{([0-9a-zA-Z_]+)\}/g;e.exports=n},function(e,t,n){(function(e){"use strict";e.tag2("raw-html","","","",function(e){var t=this;this.updateContent=function(){t.root.innerHTML=t.opts.content},this.on("update",function(){t.updateContent()}),this.updateContent()})}).call(t,n(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.classList.add("-hilight"),e.parentNode.appendChild(e)}},function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var o=n(2),l=t(o);n(3),e.tag2("riot-infobox",'<raw-html content="{rawContent}"></raw-html>',"",'class="{opts.className} d3-playbooks__infobox {-empty: empty}"',function(t){var n=this;this.empty=!0,this.opts.control.on(e.EVT.updateInfobox,function(e){n.update({empty:!1,rawContent:(0,l.default)(n.opts.template,e)})}),this.opts.control.on(e.EVT.emptyInfobox,function(){n.update({empty:!0})})})}).call(t,n(1))},function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var o=n(2),l=t(o);n(3),e.tag2("riot-legend",'<raw-html content="{rawContent}"></raw-html>',"",'class="{opts.className} d3-playbooks__legend"',function(e){var t=this;this.rawContent=(0,l.default)(this.opts.templates.wrapper,{body:this.opts.legendItems.map(function(e){return(0,l.default)(t.opts.templates.item,e)}).join("")})})}).call(t,n(1))},function(e,t,n){(function(e){"use strict";e.tag2("riot-selector",'<select onchange="{hilight}"> <option each="{label, i in labels}" riot-value="{i}" selected="{active === i}">{label}</option> </select>',"",'class="{opts.className} d3-playbooks__selector"',function(t){var n=this;this.active=0,this.data=this.opts.data,this.labels=Object.keys(this.data),this.hilight=function(t){var o=n.labels[t.target.value],l=n.data[o];n.opts.hilight(l),n.opts.control.trigger(e.EVT.updateInfobox,l)},this.opts.control.on(e.EVT.updateSelector,function(e){var t=n.labels.indexOf(n.opts.getLabel(e));n.update({active:t})})})}).call(t,n(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d3.playbooks.barChart({elementId:"chart1",data:[["a","c","b"],["1",3,"2"]]}).render().legend({wrapperTemplate:"<h3>Legend</h3><p>{body}</p>",itemTemplate:"The color for <strong>{label}</strong> is <em>{color}</em>."}).infobox({element:"#my-infobox",template:"<p><strong>Value for {x}:</strong> {y}</p>"}).selector({getLabel:function(e){return e.x+" ("+e.y+")"},sortItems:function(e,t){return t.y-e.y}});d3.playbooks.scatterChart({elementId:"chart2",data:{x:[1,2,3,4,6],y:[2,5,1,1,8]},color:d3.schemeCategory10,getLegendItems:function(e){return e.data.map(function(t){return{label:"Item "+t.x,color:e.getColor(t)}})}}).render().legend().infobox().selector(),d3.playbooks.multiLineChart({elementId:"chart3",dataUrl:"data/multiline.csv",yCols:["y1","y2","y3"]}).render().legend()}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}n(6),n(5),n(7),n(15),n(29),n(13);var l=n(8);o(l)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(4),r=o(l),a=n(19),i=o(a);t.default={control:null,hilightNode:r.default,unhilightNode:i.default}},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(24),r=o(l),a=n(22),i=o(a),u=n(23),s=o(u),d=n(21),c=o(d),f=n(25),p=o(f),b=n(17),h=o(b),g=n(18),m=o(g),y=n(20),v=o(y),_=n(14),x=o(_),C=n(16),k=o(C);t.default={getControl:function(){return e.observable()},addMouseEvents:x.default,initRiotEvents:k.default,getLegendItems:i.default,getLegendTemplates:s.default,mountLegend:function(e,t){return(0,r.default)(e,{tagName:"riot-legend",riotSelector:t.element,cssClass:"legend",opts:{legendItems:e.legendItems,templates:e.legendTemplates}})},getInfoboxTemplate:c.default,mountInfobox:function(e,t){return(0,r.default)(e,{tagName:"riot-infobox",riotSelector:t.element,cssClass:"infobox",opts:{control:e.control,template:e.infoboxTemplate}})},getSelectorData:p.default,mountSelector:function(e,t){return(0,r.default)(e,{tagName:"riot-selector",riotSelector:t.element,cssClass:"selector",opts:{getLabel:t.getLabel?t.getLabel:function(t){return t[e.xCol]},control:e.control,data:e.selectorData,hilight:e.hilight}})},findSelectionForHilight:h.default,hilightSelection:m.default,unhilightSelection:v.default}}).call(t,n(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={init:{control:"getControl",_events:"initRiotEvents"},draw:{_events:"addMouseEvents"},legend:{legendItems:"getLegendItems",legendTemplates:"getLegendTemplates",legendEl:"mountLegend"},infobox:{infoboxTemplate:"getInfoboxTemplate",infoboxEl:"mountInfobox"},selector:{selectorData:"getSelectorData",selectorEl:"mountSelector"},hilight:{_unhilight:"unhilightSelection",hilightedSel:"findSelectionForHilight",_hilight:"hilightSelection"},unhilight:{hilightedSel:"unhilightSelection"}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var l=n(11),r=o(l),a=n(10),i=o(a),u=n(12),s=o(u),d=function(e){var t=Object.assign({},r.default,e.plays),n=Object.assign({},i.default,e.defaults);return{plays:t,defaults:n}},c=function(e){Object.assign(e.init,s.default.init),Object.assign(e.draw,s.default.draw),Object.keys(s.default).filter(function(e){return["init","draw"].indexOf(e)===-1}).map(function(t){e[t]=s.default[t]})};d3.playbooks.CHARTS&&(d3.playbooks.CHARTS.baseChart=d(d3.playbooks.CHARTS.baseChart),c(d3.playbooks.TEMPLATE)),d3.playbooks.maps&&(d3.playbooks.maps.MAPS.baseMap=d(d3.playbooks.maps.MAPS.baseMap),c(d3.playbooks.maps.TEMPLATE));var f=["legend","infobox","selector","hilight","unhilight"];d3.playbooks.PUBLIC_METHODS=d3.playbooks.PUBLIC_METHODS.concat(f)},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=t.drawedSelection,o=t.control;n.on("mouseover",function(t){o.trigger(e.EVT.mouseover,{node:this,data:t})}),n.on("mouseout",function(t){o.trigger(e.EVT.mouseout,{node:this,data:t})})}}).call(t,n(1))},function(e,t,n){(function(e){"use strict";e.EVT={mouseover:"mouseover",mouseout:"mouseout",updateInfobox:"update_infobox",emptyInfobox:"empty_infobox",updateSelector:"update_selector"}}).call(t,n(1))},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){t.control.on(e.EVT.mouseover,function(n){var o=n.node,l=n.data;t.hilightedSel?t.unhilight(t):null,t.hilightNode(o),t.control.trigger(e.EVT.updateInfobox,l),t.control.trigger(e.EVT.updateSelector,l)}),t.control.on(e.EVT.mouseout,function(n){var o=n.node;n.data;t.unhilightNode(o),t.control.trigger(e.EVT.emptyInfobox)})}}).call(t,n(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.drawedSelection,o=e.xCol,l=void 0;return l="string"==typeof t?function(e){return t===e[o]}:function(e){return t===e},n.select(function(e,t){return l(e)?this:null})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(4),r=o(l);t.default=function(e){var t=e.hilightedSel;return(0,r.default)(t.node())}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.classList.remove("-hilight")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.hilightedSel;return t?t.classed("-hilight",!1):null,null}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),r=o(l),a='\n  <dl class="d3-playbooks__infobox-table">\n    <dt class="d3-playbooks__infobox-label d3-playbooks__infobox-label--{xCol}">{xCol}</dt>\n    <dd class="d3-playbooks__infobox-value d3-playbooks__infobox-value--{xCol}">{xVar}</dd>\n    {yDt}\n  </dl>\n',i='\n  <dt class="d3-playbooks__infobox-label d3-playbooks__infobox-label--{yCol}">{yCol}</dt>\n  <dd class="d3-playbooks__infobox-value d3-playbooks__infobox-value--{yCol}">{yVar}</dd>\n',u=function(e){return"{"+e+"}"},s=function(e){return(0,r.default)(i,{yCol:e,yVar:u(e)})};t.default=function(e,t){var n=e.xCol,o=e.yCol,l=e.yCols,i=t.template;return i?i:(0,r.default)(a,{xCol:n,xVar:u(n),yDt:l?l.map(function(e){return s(e)}).join(""):s(o)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var o=e.groupCol,l=e.data,r=e.yCol,a=e.yCols,i=e.multiData,u=e.getColor,s=t.labels;if(o){var d=function(){var e=[],t=[];return l.map(function(n){var l=n[o];e.indexOf(l)<0&&(e.push(l),t.push({label:l,color:u(n)}))}),{v:t}}();if("object"===("undefined"==typeof d?"undefined":n(d)))return d.v}else if(a){var c=function(){var e=i.yValues;return{v:a.map(function(t,n){return{label:s?s[t]:t,color:u(e[n])}})}}();if("object"===("undefined"==typeof c?"undefined":n(c)))return c.v}else if(r)return[{label:s?s[r]:r,color:u(l)}]}},function(e,t){"use strict";function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}Object.defineProperty(t,"__esModule",{value:!0});var o='<ul class="d3-playbooks__legend-list">{body}</ul>',l='<li class="d3-playbooks__legend-item">\n  <span style="background-color:{color};"></span>{label}</li>';t.default=function(e,t){var r=t.wrapperTemplate,a=t.itemTemplate;return n(e),{wrapper:r||o,item:a||l}}},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,n){var o=t.cssNamespace,l=t.elementId,r=t.element,a=n.tagName,i=n.riotSelector,u=n.cssClass,s=n.opts,d=void 0===s?{}:s;if(!l&&!i)throw new Error("need `chart.elementId` or `element` for riot components be able to be mounted");var c=o+"__"+(u||a);return i||(i=l+"-"+a,r.append("div").attr("id",i).attr("class",c),i="#"+i),d.className=c,e.mount(i,a,d)[0]}}).call(t,n(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.data,o=e.xCol,l=t.getLabel,r=t.sortItems,a={},i=function(e){return l?l(e):e[o]},u=function(e,t){return e<t?-1:e>t?1:0},s=r?r:function(e,t){return u(i(e),i(t))};return n.sort(s).map(function(e){return a[i(e)]=e}),a}},function(e,t,n){t=e.exports=n(27)(),t.push([e.id,".d3-playbooks__infobox dl{line-height:1.4;margin:0;padding:0}.d3-playbooks__infobox-label{float:none;padding:0;margin:0;font-weight:700}.d3-playbooks__infobox-value{float:none;padding:0;margin:0 0 .4em}.d3-playbooks__infobox-table{width:250px}.d3-playbooks__infobox-table dd,.d3-playbooks__infobox-table dt{float:left;width:50%}.d3-playbooks__legend-list{padding:0;margin:0}.d3-playbooks__legend-item{list-style:none}.d3-playbooks__legend-item span{width:10px;height:10px;margin-right:5px;display:inline-block}.d3-playbooks .focus circle{fill:#4682b4;r:4}.d3-playbooks .-empty{display:none}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},l=0;l<this.length;l++){var r=this[l][0];"number"==typeof r&&(o[r]=!0)}for(l=0;l<t.length;l++){var a=t[l];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],l=p[o.id];if(l){l.refs++;for(var r=0;r<l.parts.length;r++)l.parts[r](o.parts[r]);for(;r<o.parts.length;r++)l.parts.push(s(o.parts[r],t))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(s(o.parts[r],t));p[o.id]={id:o.id,refs:1,parts:a}}}}function l(e){for(var t=[],n={},o=0;o<e.length;o++){var l=e[o],r=l[0],a=l[1],i=l[2],u=l[3],s={css:a,media:i,sourceMap:u};n[r]?n[r].parts.push(s):t.push(n[r]={id:r,parts:[s]})}return t}function r(e,t){var n=g(),o=v[v.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function i(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function s(e,t){var n,o,l;if(t.singleton){var r=y++;n=m||(m=i(t)),o=d.bind(null,n,r,!1),l=d.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),o=f.bind(null,n),l=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(t),o=c.bind(null,n),l=function(){a(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else l()}}function d(e,t,n,o){var l=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=_(t,l);else{var r=document.createTextNode(l),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function c(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var l=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(l),r&&URL.revokeObjectURL(r)}var p={},b=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=b(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=b(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,y=0,v=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=l(e);return o(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var i=n[a],u=p[i.id];u.refs--,r.push(u)}if(e){var s=l(e);o(s,t)}for(var a=0;a<r.length;a++){var u=r[a];if(0===u.refs){for(var d=0;d<u.parts.length;d++)u.parts[d]();delete p[u.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var o=n(26);"string"==typeof o&&(o=[[e.id,o,""]]);n(28)(o,{});o.locals&&(e.exports=o.locals)}]);
//# sourceMappingURL=d3-playbooks.riot-components.min.js.map