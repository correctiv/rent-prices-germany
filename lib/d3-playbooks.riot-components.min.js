!function(e){function t(n){if(o[n])return o[n].exports;var l=o[n]={exports:{},id:n,loaded:!1};return e[n].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){e.exports=o(9)},function(e,t){e.exports=riot},function(e,t){function o(e){var t;if(2===arguments.length&&"object"==typeof arguments[1])t=arguments[1];else{t=new Array(arguments.length-1);for(var o=1;o<arguments.length;++o)t[o-1]=arguments[o]}return t&&t.hasOwnProperty||(t={}),e.replace(n,function(o,n,l){var r;return"{"===e[l-1]&&"}"===e[l+o.length]?n:(r=t.hasOwnProperty(n)?t[n]:null,null===r||void 0===r?"":r)})}var n=/\{([0-9a-zA-Z_]+)\}/g;e.exports=o},function(e,t,o){(function(e){"use strict";e.tag2("raw-html","","","",function(e){var t=this;this.updateContent=function(){t.root.innerHTML=t.opts.content},this.on("update",function(){t.updateContent()}),this.updateContent()})}).call(t,o(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.classList.add("-hilight"),e.parentNode.appendChild(e)}},function(e,t,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var n=o(2),l=t(n);o(3),e.tag2("riot-infobox",'<raw-html content="{rawContent}"></raw-html>',"",'class="{opts.className} d3-playbooks__infobox {-empty: empty}"',function(t){var o=this;this.empty=!0,this.opts.control.on(e.EVT.updateInfobox,function(e){o.update({empty:!1,rawContent:(0,l.default)(o.opts.template,e)})}),this.opts.control.on(e.EVT.emptyInfobox,function(){o.update({empty:!0})})})}).call(t,o(1))},function(e,t,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var n=o(2),l=t(n);o(3),e.tag2("riot-legend",'<raw-html content="{rawContent}"></raw-html>',"",'class="{opts.className} d3-playbooks__legend"',function(e){var t=this;this.rawContent=(0,l.default)(this.opts.templates.wrapper,{body:this.opts.legendItems.map(function(e){return(0,l.default)(t.opts.templates.item,e)}).join("")})})}).call(t,o(1))},function(e,t,o){(function(e){"use strict";e.tag2("riot-selector",'<select onchange="{hilight}"> <option each="{label, i in labels}" riot-value="{i}" selected="{active === i}">{label}</option> </select>',"",'class="{opts.className} d3-playbooks__selector"',function(t){var o=this;this.active=0,this.data=this.opts.data,this.labels=Object.keys(this.data),this.hilight=function(t){var n=o.labels[t.target.value],l=o.data[n];o.opts.hilight(l),o.opts.control.trigger(e.EVT.updateInfobox,l)},this.opts.control.on(e.EVT.updateSelector,function(e){var t=o.labels.indexOf(o.opts.getLabel(e));o.update({active:t})})})}).call(t,o(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d3.playbooks.barChart({elementId:"chart1",data:[["a","c","b"],["1",3,"2"]]}).render().legend({wrapperTemplate:"<h3>Legend</h3><p>{body}</p>",itemTemplate:"The color for <strong>{label}</strong> is <em>{color}</em>."}).infobox({element:"#my-infobox",template:"<p><strong>Value for {x}:</strong> {y}</p>"}).selector({getLabel:function(e){return e.x+" ("+e.y+")"},sortItems:function(e,t){return t.y-e.y}});d3.playbooks.scatterChart({elementId:"chart2",data:{x:[1,2,3,4,6],y:[2,5,1,1,8]},color:d3.schemeCategory10,getLegendItems:function(e){return e.data.map(function(t){return{label:"Item "+t.x,color:e.getColor(t)}})}}).render().legend().infobox().selector(),d3.playbooks.multiLineChart({elementId:"chart3",dataUrl:"data/multiline.csv",yCols:["y1","y2","y3"]}).render().legend()}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}o(6),o(5),o(7),o(15),o(29),o(13);var l=o(8);n(l)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(4),r=n(l),i=o(19),a=n(i);t.default={control:null,hilightNode:r.default,unhilightNode:a.default}},function(e,t,o){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(24),r=n(l),i=o(22),a=n(i),u=o(23),s=n(u),d=o(21),c=n(d),f=o(25),p=n(f),b=o(17),h=n(b),g=o(18),y=n(g),m=o(20),v=n(m),_=o(14),x=n(_),C=o(16),k=n(C);t.default={getControl:function(){return e.observable()},addMouseEvents:x.default,initRiotEvents:k.default,getLegendItems:a.default,getLegendTemplates:s.default,mountLegend:function(e,t){return(0,r.default)(e,{tagName:"riot-legend",riotSelector:t.element,cssClass:"legend",opts:{legendItems:e.legendItems,templates:e.legendTemplates}})},getInfoboxTemplate:c.default,mountInfobox:function(e,t){return(0,r.default)(e,{tagName:"riot-infobox",riotSelector:t.element,cssClass:"infobox",opts:{control:e.control,template:e.infoboxTemplate}})},getSelectorData:p.default,mountSelector:function(e,t){return(0,r.default)(e,{tagName:"riot-selector",riotSelector:t.element,cssClass:"selector",opts:{getLabel:t.getLabel?t.getLabel:function(t){return t[e.xCol]},control:e.control,data:e.selectorData,hilight:e.hilight}})},findSelectionForHilight:h.default,hilightSelection:y.default,unhilightSelection:v.default}}).call(t,o(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={init:{control:"getControl",_events:"initRiotEvents"},draw:{_events:"addMouseEvents"},legend:{legendItems:"getLegendItems",legendTemplates:"getLegendTemplates",legendEl:"mountLegend"},infobox:{infoboxTemplate:"getInfoboxTemplate",infoboxEl:"mountInfobox"},selector:{selectorData:"getSelectorData",selectorEl:"mountSelector"},hilight:{_unhilight:"unhilightSelection",hilightedSel:"findSelectionForHilight",_hilight:"hilightSelection"},unhilight:{hilightedSel:"unhilightSelection"}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var l=o(11),r=n(l),i=o(10),a=n(i),u=o(12),s=n(u);Object.assign(r.default,d3.playbooks.CHARTS.baseChart.plays),Object.assign(a.default,d3.playbooks.CHARTS.baseChart.defaults),d3.playbooks.CHARTS.baseChart={plays:r.default,defaults:a.default},Object.assign(d3.playbooks.TEMPLATE.init,s.default.init),Object.assign(d3.playbooks.TEMPLATE.draw,s.default.draw),Object.keys(s.default).filter(function(e){return["init","draw"].indexOf(e)===-1}).map(function(e){d3.playbooks.TEMPLATE[e]=s.default[e]});var d=["legend","infobox","selector","hilight","unhilight"];d3.playbooks.PUBLIC_METHODS=d3.playbooks.PUBLIC_METHODS.concat(d)},function(e,t,o){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var o=t.drawedSelection,n=t.control;o.on("mouseover",function(t){n.trigger(e.EVT.mouseover,{node:this,data:t})}),o.on("mouseout",function(t){n.trigger(e.EVT.mouseout,{node:this,data:t})})}}).call(t,o(1))},function(e,t,o){(function(e){"use strict";e.EVT={mouseover:"mouseover",mouseout:"mouseout",updateInfobox:"update_infobox",emptyInfobox:"empty_infobox",updateSelector:"update_selector"}}).call(t,o(1))},function(e,t,o){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){t.control.on(e.EVT.mouseover,function(o){var n=o.node,l=o.data;t.hilightedSel?t.unhilight(t):null,t.hilightNode(n),t.control.trigger(e.EVT.updateInfobox,l),t.control.trigger(e.EVT.updateSelector,l)}),t.control.on(e.EVT.mouseout,function(o){var n=o.node;o.data;t.unhilightNode(n),t.control.trigger(e.EVT.emptyInfobox)})}}).call(t,o(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var o=e.drawedSelection,n=e.xCol,l=void 0;return l="string"==typeof t?function(e){return t===e[n]}:function(e){return t===e},o.select(function(e,t){return l(e)?this:null})}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(4),r=n(l);t.default=function(e){var t=e.hilightedSel;return(0,r.default)(t.node())}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.classList.remove("-hilight")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.hilightedSel;return t?t.classed("-hilight",!1):null,null}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(2),r=n(l),i='\n  <dl class="d3-playbooks__infobox-table">\n    <dt class="d3-playbooks__infobox-label d3-playbooks__infobox-label--{xCol}">{xCol}</dt>\n    <dd class="d3-playbooks__infobox-value d3-playbooks__infobox-value--{xCol}">{xVar}</dd>\n    {yDt}\n  </dl>\n',a='\n  <dt class="d3-playbooks__infobox-label d3-playbooks__infobox-label--{yCol}">{yCol}</dt>\n  <dd class="d3-playbooks__infobox-value d3-playbooks__infobox-value--{yCol}">{yVar}</dd>\n',u=function(e){return"{"+e+"}"},s=function(e){return(0,r.default)(a,{yCol:e,yVar:u(e)})};t.default=function(e,t){var o=e.xCol,n=e.yCol,l=e.yCols,a=t.template;return a?a:(0,r.default)(i,{xCol:o,xVar:u(o),yDt:l?l.map(function(e){return s(e)}).join(""):s(n)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=e.groupCol,l=e.data,r=e.yCol,i=e.yCols,a=e.multiData,u=e.getColor,s=t.labels;if(n){var d=function(){var e=[],t=[];return l.map(function(o){var l=o[n];e.indexOf(l)<0&&(e.push(l),t.push({label:l,color:u(o)}))}),{v:t}}();if("object"===("undefined"==typeof d?"undefined":o(d)))return d.v}else if(i){var c=function(){var e=a.yValues;return{v:i.map(function(t,o){return{label:s?s[t]:t,color:u(e[o])}})}}();if("object"===("undefined"==typeof c?"undefined":o(c)))return c.v}else if(r)return[{label:s?s[r]:r,color:u(l)}]}},function(e,t){"use strict";function o(e){if(null==e)throw new TypeError("Cannot destructure undefined")}Object.defineProperty(t,"__esModule",{value:!0});var n='<ul class="d3-playbooks__legend-list">{body}</ul>',l='<li class="d3-playbooks__legend-item">\n  <span style="background-color:{color};"></span>{label}</li>';t.default=function(e,t){var r=t.wrapperTemplate,i=t.itemTemplate;return o(e),{wrapper:r||n,item:i||l}}},function(e,t,o){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,o){var n=t.cssNamespace,l=t.elementId,r=t.element,i=o.tagName,a=o.riotSelector,u=o.cssClass,s=o.opts,d=void 0===s?{}:s;if(!l&&!a)throw new Error("need `chart.elementId` or `element` for riot components be able to be mounted");var c=n+"__"+(u||i);return a||(a=l+"-"+i,r.append("div").attr("id",a).attr("class",c),a="#"+a),d.className=c,e.mount(a,i,d)[0]}}).call(t,o(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var o=e.data,n=e.xCol,l=t.getLabel,r=t.sortItems,i={},a=function(e){return l?l(e):e[n]},u=function(e,t){return e<t?-1:e>t?1:0},s=r?r:function(e,t){return u(a(e),a(t))};return o.sort(s).map(function(e){return i[a(e)]=e}),i}},function(e,t,o){t=e.exports=o(27)(),t.push([e.id,".d3-playbooks__infobox dl{line-height:1.4;margin:0;padding:0}.d3-playbooks__infobox-label{float:none;padding:0;margin:0;font-weight:700}.d3-playbooks__infobox-value{float:none;padding:0;margin:0 0 .4em}.d3-playbooks__infobox-table{width:250px}.d3-playbooks__infobox-table dd,.d3-playbooks__infobox-table dt{float:left;width:50%}.d3-playbooks__legend-list{padding:0;margin:0}.d3-playbooks__legend-item{list-style:none}.d3-playbooks__legend-item span{width:10px;height:10px;display:inline-block}.d3-playbooks .bar,.d3-playbooks .dot{fill-opacity:.7}.d3-playbooks .bar:hover,.d3-playbooks .dot:hover{fill-opacity:1}.d3-playbooks .bar.-hilight,.d3-playbooks .dot.-hilight{fill-opacity:1;stroke:#000;stroke-width:2px}.d3-playbooks .focus circle{fill:#4682b4;r:4}.d3-playbooks .-empty{display:none}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var o=this[t];o[2]?e.push("@media "+o[2]+"{"+o[1]+"}"):e.push(o[1])}return e.join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},l=0;l<this.length;l++){var r=this[l][0];"number"==typeof r&&(n[r]=!0)}for(l=0;l<t.length;l++){var i=t[l];"number"==typeof i[0]&&n[i[0]]||(o&&!i[2]?i[2]=o:o&&(i[2]="("+i[2]+") and ("+o+")"),e.push(i))}},e}},function(e,t,o){function n(e,t){for(var o=0;o<e.length;o++){var n=e[o],l=p[n.id];if(l){l.refs++;for(var r=0;r<l.parts.length;r++)l.parts[r](n.parts[r]);for(;r<n.parts.length;r++)l.parts.push(s(n.parts[r],t))}else{for(var i=[],r=0;r<n.parts.length;r++)i.push(s(n.parts[r],t));p[n.id]={id:n.id,refs:1,parts:i}}}}function l(e){for(var t=[],o={},n=0;n<e.length;n++){var l=e[n],r=l[0],i=l[1],a=l[2],u=l[3],s={css:i,media:a,sourceMap:u};o[r]?o[r].parts.push(s):t.push(o[r]={id:r,parts:[s]})}return t}function r(e,t){var o=g(),n=v[v.length-1];if("top"===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function s(e,t){var o,n,l;if(t.singleton){var r=m++;o=y||(y=a(t)),n=d.bind(null,o,r,!1),l=d.bind(null,o,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=u(t),n=f.bind(null,o),l=function(){i(o),o.href&&URL.revokeObjectURL(o.href)}):(o=a(t),n=c.bind(null,o),l=function(){i(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else l()}}function d(e,t,o,n){var l=o?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,l);else{var r=document.createTextNode(l),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(r,i[t]):e.appendChild(r)}}function c(e,t){var o=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function f(e,t){var o=t.css,n=t.sourceMap;n&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var l=new Blob([o],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(l),r&&URL.revokeObjectURL(r)}var p={},b=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=b(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=b(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,m=0,v=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var o=l(e);return n(o,t),function(e){for(var r=[],i=0;i<o.length;i++){var a=o[i],u=p[a.id];u.refs--,r.push(u)}if(e){var s=l(e);n(s,t)}for(var i=0;i<r.length;i++){var u=r[i];if(0===u.refs){for(var d=0;d<u.parts.length;d++)u.parts[d]();delete p[u.id]}}}};var _=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join("\n")}}()},function(e,t,o){var n=o(26);"string"==typeof n&&(n=[[e.id,n,""]]);o(28)(n,{});n.locals&&(e.exports=n.locals)}]);
//# sourceMappingURL=d3-playbooks.riot-components.min.js.map